# 前端项目代码规范

## 一、 ui与js框架

- 新项目统一技术栈为vue，重构老项目时注意代码质量。

- 图表使用 highcharts。

- pc管理端统一ui框架为element-ui，如无合适组件可自行封装。

- js最低版本使用es6，如需兼容性，可使用Babel转码。

- css使用scss。



## 二、 项目结构
```

|----  build                             构建相关

|----  config                           全局配置相关

|----  src                                 所有源码

|       |----  assets                    项目内图片文字等静态文件

|       |----  components           全局公用基本组件

|       |----  common                全局业务组件

|       |----  pages                    页面layout

|       |----  router                    存放全局路由

|       |----  store                      存放全局状态（因大屏展示页面少，非必要）

|       |----  service                   请求后台文件以及对请求封装

|       |----  styles                     全局样式

|       |----  main.js                   入口文件

|----  static                             静态文件

|----  test                               单元测试 

|----  .babelrc                         babel配置文件

|----  .gitignore                      git忽略提交规则

|----  package.json

|----  README.md

```

## 三、 NPM库

- 如需引入NPM库，需向项目负责人报备，并在根目录REANME.md中注明引入包以及版本号。

- 引入库需有人维护并开源，如无人维护状态，需向项目负责人报备。

- 引入库如有缺陷，需在REANME.md文档中注明。

## 四、 数据请求

- 数据请求统一用axios模块。

- 前后端统一使用json数据格式传输。

- 需与后端约定所有字段名称以及返回类型。

- 为健壮性考虑，后端传递来的数据需在service中统一全部处理后再使用。如有非法数据，全部重置初始化，实例如下：

（1）、如无此字段，string类型全部初始化为空字符串''。

（2）、如约定为string类型，非此类型全部初始化为空字符串''。

- 后端返回数据中应含有状态码、提示信息、数据，如正确执行所有代码则返回状态吗200，如代码执行错误，需返回友好提示信息。前端应根据状态码判断是否使用后端数据，如非200状态，前端应按照最佳效果显 示后台提示信息。后端返回实例如下：

```
{

code: 200,

data: {},

msg: ''

}
```

状态码如下：

1、200    返回成功。

2、401    未登录。

3、403    资源不可用

4、404    未查到此数据

5、500    服务器内部错误



## 五、 命名规范

禁用单字母命名，禁止使用无法读取含义的单词命名。（至少翻译可以查出来含义）。

1、项目名称

（1）、全部小写字母。

（2）、如有多个单词，需用下划线分割，如my_project_name。

2、目录规范

（1）、全部小写英文字母代码。

（2）、如有多个单词，需用下划线分割，如data_models。

（3）、需使用能够表达此目录下文件总体含义。

3、文件命名

（1）、小驼峰命名，如myProject。

（2）、需能表达此文件含义。

4、class类名

（1）、全部小写，使用减号命名，如：class-name。

（2）、能够表达此标签含义。

（3）、组件内部时，尽量class类名都带上此组件的标识。

5、js命名

（1）、类与构造函数使用大驼峰命名，如：StringInfo。

（2）、变量使用小驼峰命名，如：maxCount。

（3）、常量使用全英文大写并以下划线分割，如：MAX_COUNT。

（4）、函数使用小驼峰命名，如：myPerson。

6、组件命名

如需自制组件库，使用组件库名称为前缀命名。

组件内部css命名需带组件名作为前缀。

## 六、js代码规范（除命名外）

1、js文件顶部需阐述此文件功能。

2、需注明创建人与创建时间，修改人与修改时间以及修改内容。

3、需注明此文件内部类与类的方法名称。

4、代码结束必须使用分号。

5、一个方法内代码禁止超出三十行，如代码行过多，可抽出为另一个方法。

6、全部使用tab键缩进。

7、一行代码太长需换行显示，显示器中必须可以显示所有代码。

8、单独文件中不可有过多代码，如有过多可分解为多个js文件。

9、如有三个及以上判断语句，则使用switch，否则使用if。

